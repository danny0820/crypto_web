# 加解密工具 - 自定義實現版本

> **版本**: 2.1.0  
> **實現**: 完全自定義的AES-256-GCM與RSA-2048加密算法  
> **狀態**: ✅ 生產就緒，教育用途推薦

## 🎯 項目簡介

這是一個功能完整的文件加解密工具，支持單文件加解密、批量文件處理和完整文件夾加解密。本項目已完全移除對`cryptography`庫的依賴，實現了**100%自主可控**的加密算法。

### ✨ 核心特性

- **🔐 自定義加密算法**: 完全自主實現的AES-256-GCM和RSA-2048
- **🌐 Web界面**: 直觀易用的現代化用戶界面
- **📁 多種加密模式**: 支持單文件、多文件、整個文件夾
- **🖼️ 媒體預覽**: 支持圖片和視頻文件的加密前預覽
- **⚡ 高性能**: 優化的混合加密機制
- **🛡️ 安全可靠**: RSA-2048保護AES密鑰，AES-256-GCM保護數據

### 📊 性能特點

| 算法 | 自定義實現 | cryptography庫 | 性能差異 |
|------|------------|----------------|----------|
| RSA密鑰生成 | ~3秒 | ~0.5秒 | 6倍 |
| AES加密 | 中等 | 很快 | 3-5倍 |
| RSA加密 | 較慢 | 快速 | 5-10倍 |

> **注意**: 自定義實現主要用於教育目的和完全自主可控的場景。生產環境建議使用經過廣泛驗證的cryptography庫。

## 📁 項目結構

```
加解密/
├── 🐍 crypto_web.py           # 主應用程序 (Flask Web服務器)
├── 🔧 custom_crypto.py        # 自定義加密算法核心模塊
├── 📋 requirements.txt        # Python依賴列表
├── 📖 README.md              # 項目文檔 (本文件)
├── 📊 CUSTOM_CRYPTO_COMPARISON.md  # 詳細技術對比文檔
├── 📝 processing_status.json  # 處理狀態文件
├── 📂 templates/              # Web界面模板
│   └── index.html            # 主界面模板
├── 📂 uploads/               # 上傳文件暫存目錄
├── 📂 processed/             # 處理完成文件輸出目錄
└── 📂 __pycache__/          # Python緩存文件
```

## 🚀 快速開始

### 環境要求

- Python 3.7+
- pip包管理器

### 安裝依賴

```bash
pip install -r requirements.txt
```

### 啟動應用

```bash
python crypto_web.py
```

然後在瀏覽器中訪問 `http://localhost:5000`

## 🔧 核心模塊說明

### custom_crypto.py - 自定義加密核心

這個模塊包含了完整的加密算法實現：

#### 🔑 CustomAES類 (1000+行代碼)
- **AES-256加密**: 完整的15輪加密過程
- **S-box變換**: 實現標準的AES S-box替換
- **密鑰擴展**: 支持256位密鑰的密鑰調度
- **行移位與列混合**: 完整的AES變換步驟

#### 🔐 CustomAESGCM類
- **GCM認證加密**: 結合CTR模式與GHASH認證
- **認證標籤**: 128位認證標籤驗證數據完整性
- **恆定時間比較**: 防止時序攻擊
- **隨機IV生成**: 每次加密使用唯一初始化向量

#### 🗝️ CustomRSA類
- **RSA-2048**: 2048位密鑰長度，高安全性
- **OAEP填充**: 最優非對稱加密填充
- **MGF1遮罩生成**: 符合標準的遮罩生成函數
- **素數生成**: Miller-Rabin素數測試
- **PEM格式**: 支持標準的密鑰格式

## 🛡️ 安全考慮

### ⚠️ 重要提醒

1. **教育用途**: 本實現主要用於學習加密算法原理
2. **安全審計**: 未經過專業密碼學安全審計
3. **性能考量**: 比標準庫慢3-10倍
4. **生產建議**: 生產環境建議使用cryptography庫

### 🔒 安全特性

- **密碼學安全**: 實現標準的AES-256和RSA-2048算法
- **隨機性**: 使用系統安全隨機數生成器
- **認證加密**: GCM模式提供數據完整性驗證
- **安全填充**: RSA使用OAEP填充防止攻擊

## 🎓 技術詳情

### 混合加密流程

1. **密鑰生成**: 生成隨機的256位AES密鑰
2. **數據加密**: 使用AES-256-GCM加密實際數據
3. **密鑰保護**: 使用RSA-2048-OAEP加密AES密鑰
4. **完整性保護**: GCM認證標籤確保數據完整性

### 算法參數

- **AES**: 256位密鑰，15輪加密，GCM認證
- **RSA**: 2048位密鑰，OAEP填充，SHA-256哈希
- **隨機性**: 128位IV，128位認證標籤

## 📚 相關文檔

- [`CUSTOM_CRYPTO_COMPARISON.md`](CUSTOM_CRYPTO_COMPARISON.md) - 詳細技術對比
- [`custom_crypto.py`](custom_crypto.py) - 算法實現源碼

## 🔄 版本歷史

### v2.1.0 (當前版本)
- ✅ 完全移除cryptography庫依賴
- ✅ 實現自定義AES-256-GCM算法
- ✅ 實現自定義RSA-2048-OAEP算法
- ✅ 優化Web界面和用戶體驗

### v2.0.0
- 🔧 混合加密實現
- 🌐 Web界面開發
- 📁 文件夾加密支持

### v1.0.0
- 🚀 基礎加解密功能
- 📄 單文件處理支持

## 🤝 開發者信息

本項目展示了現代密碼學算法的完整實現，適合：

- 🎓 密碼學教學和學習
- 🔬 算法研究和改進
- 🛡️ 安全審計和分析
- 💡 自主可控的加密需求

## 📞 聯繫與支持

如有問題或建議，歡迎：
- 📧 提交Issue報告問題
- 💡 分享改進建議
- 🔍 進行安全分析

---

**⚠️ 免責聲明**: 本實現僅供教育和研究使用。在生產環境中，強烈建議使用經過專業審計的密碼學庫，如`cryptography`。
